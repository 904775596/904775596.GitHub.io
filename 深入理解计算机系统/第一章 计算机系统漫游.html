<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第一章 计算机系统漫游</title>
</head>
<body>
    <h1>计算机系统漫游</h1>
    <h2>1.1信息就是位+上下文</h2>
    <pre>
        #include <stdio.h>
        
        int main()
        {
            printf("Hello, world!\n");
            return 0;
        }
    </pre>
    <p>Hello 程序的生命周期是从一个源程序开始的.<br> 像hello.c 这样只由ASCII字符构成的文件称为<b>文本文件</b>,所有其它文件都称为<b>二进制文件</b></p>
    <p>系统中所有的信息-包括磁盘文件、内存中的程序、内存中存放的用户数据以及网络上传送的数据,都是由一串比特表示的</p>
    
    <h2>1.2程序被其它程序翻译成不同的格式</h2>
    <p>在Unix系统上,从源文件到目标文件的转化是由编译器驱动程序完成的:</p>
    <code>linux>gcc -o hello hello.c</code>
    <p>编译系统由:预处理器、编译器、汇编器和链接器构成</p>
    
    <svg width="100" height="100">
		<rect x="10" y="10" width="80" height="80"/>
	</svg>  <!--添加p39图片-->

    <p>预处理阶段, 处理#开头的命令,修改原始的c程序, 得到以.i作为文件扩展名的文件</p>
    <p>编译阶段,编译器将文本文件hello.i翻译成文本文件hello.s 它包含一个汇编语言程序</p>
    <p>汇编阶段,汇编器将hello.s翻译成机器语言指令, 把这些指令打包成一种叫做可重定位目标程序的格式,得到.o文件中</p>
    <p>链接阶段,链接各个目标文件,生成可执行文件</p>

    <h2>1.3 了解编译系统如何工作是大有益处的</h2>
    <p>了解编译系统如何工作的益处包括:</p>
    <p>优化程序性能</p>
    <p>理解链接时出现的错误</p>
    <p>避免安全漏洞</p>

    <h2>1.4 处理器读并解释存储在内存中的指令</h2>
    <p>shell是一个命令行解释器,它输出一个提示符,等待输入一个命令行,然后执行这个命令.</p>
    
    <h3>1.4.1系统的硬件组成</h3>
    <p>1. 总线</p>
    <p>携带信息字节并负责在各个部件间传递.</p>
    <p>2. I/O设备</p>
    <p>I/O设备是系统与外部世界的联系通道</p>
    <p>控制器是I/O设备本身或者系统的主印制电路板上的芯片组</p>
    <p>3. 主存</p>
    <p>主存是一个临时存储设备,在处理器执行程序时,用来存放程序和程序处理的数据. 主存是由一组动态随机存取存储器芯片组成的</p>
    <p>4. 处理器</p>
    <p>中央处理单元,是解释存储在主存中指令的引擎. 处理器的核心是一个大小为一个字的存储设备(或寄存器),称为程序计数器</p>
    <p>CPU指令可能的命令:加载,存储,操作,跳转</p>

    <h3>1.4.2 运行hello程序</h3>
    <h2>1.5 高速缓存至关重要</h2>
    <p>高速缓存存储器(cache memory)</p>
    <p>L1和L2高速缓存是用一种叫做静态随机访问存储器(SRAM)的硬件技术实现的</p>
    <h2>1.6 存储设备形成层次结构</h2>
    <p>存储器层次结构的主要思想是上一层的存储器作为低一层存储器的高速缓存.</p>
    <h2>1.7 操作系统管理硬件</h2>
    <p>操作系统的两个基本功能: 1. 防止硬件被失控的应用程序滥用; 2. 向应用程序提供简单一致的机制来控制复杂而又统舱大不相同的低级硬件设备.</p>
    <p>操作系统通过几个基本的抽象概念(进程、虚拟内存和文件)来实现这两个功能.</p>
    <h3>1.7.1进程</h3>
    <p>进程是操作系统对一个正在运行的程序的一种抽象</p>
    <p>无论是在单核还是多核系统中,一个CPU看上去都像是在并发地执行多个进程,这是通过处理器在进程间切换来实现的.操作系统实现这种交错执行的机制称为上下文切换</p>
    <p>当操作系统决定要吧控制权从当前进程转移到某个新进程时,就会进行上下文切换,即保存当前进程的上下文,恢复新进程的上下文.</p>
    <p>系统调用会将控制权传递给操作系统,操作系统保存shell进程的上下文,创建一个新的hello进程及其上下文,然后将控制权传给新的hello进程.</p>
    <p>从一个进程到另一个进程的转换是由操作系统内核管理的.</p>
    <h3>1.7.2线程</h3>
    <p>一个进程可以由多个称为线程的执行单元组成</p>
    <h3>1.7.3虚拟内存</h3>
    <p>虚拟内存是一个抽象概念,它为每个进程提供了一个假象,即每个进程都在独占地使用主存.</p>
    <p>程序代码和数据. </p>
    <p>代码和数据区后紧跟随的是运行时堆. 堆可以在运行时动态地扩展和收缩.</p>
    <p>共享库. 子啊地址空间的中间部分是一块用来存放像C标准库和数学库这样的共享库的代码和数据的区域.</p>
    <p>栈. 位于用户虚拟地址空间顶部的是用户栈,编译器用它来实现函数调用.</p>
    <p>内核虚拟内存. 地址空间顶部的区域是为内核保留的.不允许应用程序读写这个区域的内容或者直接调用内核代码定义的函数. 相反它们必须调用内核来执行这些操作.</p>
    <h3>1.7.4文件</h3>
    <p>字节序列</p>
    <h2>1.8 系统之间利用网络通信</h2>
    <h2>1.9 重要主题</h2>
    <h3>1.9.1 Amdahl定律</h3>
    <p>当我们对系统的某个部分加速时,其对系统整体性能的影响取决于该部分的重要性和加速程度.</p>
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>T</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msub><mi>T</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo>+</mo><mo stretchy="false">(</mo><mi>α</mi><msub><mi>T</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo stretchy="false">)</mo><mrow><mo>/</mo></mrow><mi>k</mi><mo>=</mo><msub><mi>T</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mo>+</mo><mi>α</mi><mrow><mo>/</mo></mrow><mi>k</mi><mo stretchy="false">]</mo></math>
    <p>加速比:</p>
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>S</mi><mo>=</mo><msub><mi>T</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mrow><mo>/</mo></mrow><msub><mi>T</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub></math>
    <br>
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>S</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mo>+</mo><mi>α</mi><mrow><mo>/</mo></mrow><mi>k</mi></mrow></mfrac></math>
    <h3>并发级并行</h3>
    <h4>1. 线程级并发</h4>
    <p>L1高速缓存分为两个部分 一个保存最近取到的指令,另一个存放数据.</p>
    <p>超线程,允许一个CPU上执行多个控制流的技术,超线程的处理器可以在单个周期的基础上决定要执行哪一个线程.</p>
    <h4>2. 指令级并行</h4>
    <p>现代处理器可以同时执行多条指令的属性称为指令级并行.</p>
    <p>如果处理器可以达到比一个周期一条指令更快的执行速率,就称之为超标量处理器.</p>
    <h4>3. 单指令,多数据并行</h4>
    <p>单指令、多数据,即SIMD并行.</p>
    <h3>1.9.3 计算机系统中抽象的重要性</h3>
    <p>在处理器里,指令集架构提供了对实际处理器硬件的抽象</p>
    <p>文件是对I/O设备的抽象,虚拟内存是对程序存储器的抽象,进程是对一个正在运行的程序的抽象. 虚拟机,提供对整个计算机的抽象,包括操作系统,处理器和程序.</p>
</body>
</html>